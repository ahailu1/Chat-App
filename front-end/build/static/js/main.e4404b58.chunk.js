(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{101:function(e,a,t){e.exports={container:"description_container__1otB6",container__icon:"description_container__icon__35xTw",heading:"description_heading__1jzPc",paragraph:"description_paragraph__20sM7"}},12:function(e,a,t){e.exports={input__password:"friendrequests_input__password__3VifP",container:"friendrequests_container__2hT2z",container__username:"friendrequests_container__username__2DBmr",container__icon:"friendrequests_container__icon__eTQDi",toggled:"friendrequests_toggled__jap2d",container__icon__favourite:"friendrequests_container__icon__favourite__3nZpe",container__icon__trash:"friendrequests_container__icon__trash__10Ftl",container__icon__lock:"friendrequests_container__icon__lock__3zHWu",myicon:"friendrequests_myicon__1nwkm",container__button:"friendrequests_container__button__1G7Gy",container__button__favourite:"friendrequests_container__button__favourite__ByaSY",container__button__trash:"friendrequests_container__button__trash__3PBQs",container__button__lock:"friendrequests_container__button__lock__3oJgq",chaticon:"friendrequests_chaticon__2T8Ic",chaticon__container:"friendrequests_chaticon__container__3GSWF",button:"friendrequests_button__3iyWV",confirm:"friendrequests_confirm__3PuJ0",isset:"friendrequests_isset__T7-I-",highlighted:"friendrequests_highlighted__1U-I-",toggled__off:"friendrequests_toggled__off__1lAcH"}},128:function(e,a,t){e.exports={container__dropdown:"header_container__dropdown__14tay",container__menu:"header_container__menu__2_0U_",container__menu__item:"header_container__menu__item__1rAFW",dropdown__item:"header_dropdown__item__BwKBb"}},130:function(e,a,t){e.exports={container__profile:"profilepicture_container__profile__EVZby",toggled:"profilepicture_toggled__191Oi",upload__button:"profilepicture_upload__button__24rpU",image:"profilepicture_image__2DyrP",image__text:"profilepicture_image__text__2dk3e",avatar__uploader:"profilepicture_avatar__uploader__2P2xk"}},24:function(e,a,t){e.exports={container__groupchatbox:"groupchatbox_container__groupchatbox__1JMBT",container__sent__socket:"groupchatbox_container__sent__socket__2fS35",container__messagebox:"groupchatbox_container__messagebox__1n_oQ",container__dialogue:"groupchatbox_container__dialogue__1Q2YQ",container__dialogue__wrapper__container:"groupchatbox_container__dialogue__wrapper__container__1214u",container__dialogue__messages:"groupchatbox_container__dialogue__messages__2mnui",container__dialogue__wrapper:"groupchatbox_container__dialogue__wrapper__1u-XY",container__groupinformation:"groupchatbox_container__groupinformation__2LVtJ",container__groupinformation__wrapper:"groupchatbox_container__groupinformation__wrapper__1ETJW",button:"groupchatbox_button__2oyPr",message__time:"groupchatbox_message__time___rdOI",message__username:"groupchatbox_message__username___VZMN",message__format:"groupchatbox_message__format__1m4PK",message__container:"groupchatbox_message__container__3NNpJ",toggled:"groupchatbox_toggled__13NLK",message__container__sent:"groupchatbox_message__container__sent__3GOaX",message__timestamp:"groupchatbox_message__timestamp__igWjm",message__actualmessage:"groupchatbox_message__actualmessage__1m1F_",message__image:"groupchatbox_message__image__1XEcr",form:"groupchatbox_form__3wTYE",group__name:"groupchatbox_group__name__o3oIw",group__members__container:"groupchatbox_group__members__container__2vbSa",group__members__username__container:"groupchatbox_group__members__username__container__EJrvE",group__members__icon:"groupchatbox_group__members__icon__jD3Fj",group__members__heading:"groupchatbox_group__members__heading__2E7z2",title:"groupchatbox_title__2M_80",username:"groupchatbox_username__3N-GM",username__container:"groupchatbox_username__container__1lb98",group__image__container:"groupchatbox_group__image__container__29jpa"}},25:function(e,a,t){e.exports={spinner:"chat_spinner__3MUjy",navbar__wrapper:"chat_navbar__wrapper__2RTle",popover:"chat_popover__3f5mL",popover__container:"chat_popover__container__1yw9Y",profilepicture__container:"chat_profilepicture__container__3iIMT",profilepicture__popover:"chat_profilepicture__popover__1e-Wu",sidebar:"chat_sidebar__3udFC",sidebar__profilepicture__container:"chat_sidebar__profilepicture__container__EuAVw",sidebar__description:"chat_sidebar__description__1quS6",container__layout:"chat_container__layout__1HDZn",container__content:"chat_container__content__3PCcw",container__instructions:"chat_container__instructions__2pPWF",tabicon:"chat_tabicon__YzGfg",tab__card:"chat_tab__card__2aTBs",tab__container:"chat_tab__container__1cxsw",tab__name:"chat_tab__name__WSoM9",tab__icon:"chat_tab__icon__3MQC8",container__avatar:"chat_container__avatar__3nvC3",container__username:"chat_container__username__kXIhs",instructions__header:"chat_instructions__header__2B9U0",instructions__header__item:"chat_instructions__header__item__3nwDF"}},256:function(e,a,t){e.exports=t(439)},261:function(e,a,t){},27:function(e,a,t){e.exports={container__profile:"chatbox_container__profile__trf9A",container__username:"chatbox_container__username__2YmqX",container__chat:"chatbox_container__chat__3UUNa",container__chatbox:"chatbox_container__chatbox__D6t-r",toggled:"chatbox_toggled__1SXkY",container__message:"chatbox_container__message__GRXt1",container__input:"chatbox_container__input__clSBo",container__button:"chatbox_container__button__1Onpj",container__form:"chatbox_container__form__1ULw_",button:"chatbox_button__3SJeN",input:"chatbox_input__ASv7_",form:"chatbox_form__1xYe4",message__sent:"chatbox_message__sent__1S4ZZ",message__sent__avatar:"chatbox_message__sent__avatar__cSbgR",container__sent:"chatbox_container__sent__3tZHO",sent:"chatbox_sent__2d6_f",container__history:"chatbox_container__history__382GE",container__history__format:"chatbox_container__history__format__3ANGO",container__history__message:"chatbox_container__history__message__MPjfD",container__wrapper:"chatbox_container__wrapper__3DD6_",container__wrapper0:"chatbox_container__wrapper0__RYh-k",sender:"chatbox_sender__19eAm",time:"chatbox_time__1AK4R",contentaz:"chatbox_contentaz__1EkhK"}},29:function(e,a,t){e.exports={container__header:"homepage_container__header__ExiLN",container__form:"homepage_container__form__1KWFq",container__row:"homepage_container__row__1IiQi",container__row__two:"homepage_container__row__two__CcnG1",container__column:"homepage_container__column__13vet",container__column__two:"homepage_container__column__two__2IwZf",container__column__three:"homepage_container__column__three__rW-Yt",footer__container__technologies:"homepage_footer__container__technologies__2S34n",footer__container__about:"homepage_footer__container__about__1admN",footer__column__two:"homepage_footer__column__two__QasUX",information:"homepage_information__ajKMU",footer__row:"homepage_footer__row__108DJ",footer__header:"homepage_footer__header__3tPd_",footer__header__main:"homepage_footer__header__main__2nR9z",icon__contact:"homepage_icon__contact__22Hdx",footer__icon__container:"homepage_footer__icon__container__2vkNE",popout:"homepage_popout__2QzD6"}},31:function(e,a,t){e.exports={container:"creategroup_container__3bj9d",container__groupdata:"creategroup_container__groupdata__26l4p",container__icons:"creategroup_container__icons__j87Jr",container__icons__deletebutton:"creategroup_container__icons__deletebutton__7Tsmb",toggled:"creategroup_toggled__3Sfa1",container__groupdata__information:"creategroup_container__groupdata__information__-3VHS",container__groupdata__avatar:"creategroup_container__groupdata__avatar__EkTCF",container__groupdata__avatar__container:"creategroup_container__groupdata__avatar__container__KWfCD",container__groupid:"creategroup_container__groupid__27PSu",title:"creategroup_title__Rnfc7",groupdescription:"creategroup_groupdescription__10Dvp",title__description:"creategroup_title__description__3OLg4",icon:"creategroup_icon__2Xycx",icon__delete:"creategroup_icon__delete__2PbPv",icon__chat:"creategroup_icon__chat__32bND"}},374:function(e,a){},439:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(47),c=t.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=t(41),i=t(42),_=t(44),l=t(43),u=t(446),m=t(164),p=t(448),d=t(251),g=t(128),h=t.n(g),f=(t(261),function(e){Object(_.a)(t,e);var a=Object(l.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){},n.displayInfo=function(){},n.myMenu=function(){return r.a.createElement(u.a,{className:h.a.container__menu},r.a.createElement(u.a.Item,{className:h.a.container__menu__item},r.a.createElement("a",{target:"_blank",rel:"noreferrer",onClick:n.props.handleLogout},"Logout")))},n}return Object(i.a)(t,[{key:"render",value:function(){u.a.SubMenu,m.a.Option,this.props.users;return r.a.createElement(r.a.Fragment,null,null!=this.props.userData&&r.a.createElement(p.a,{overlay:this.myMenu,className:h.a.container__dropdown},r.a.createElement("a",{className:h.a.dropdown__item,onClick:function(e){return e.preventDefault()}},"Logout",r.a.createElement(d.a,null))))}}]),t}(r.a.Component)),v=t(35),E=t(98),b=t(38),N=t(94),y=t(449),O=t(450),C=t(452),S=t(453),w=t(454),k=t(29),x=t.n(k),j=t(88),D=t(440),T=t(95),P=t.n(T),G=t(23),L=t.n(G),A=function(e){Object(_.a)(t,e);var a=Object(l.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).userInput=function(e){e.target.name},n.handleForm=function(e){e.preventDefault(),n.setState({loading:!0,error:""});var a={method:"POST",url:"".concat("https://onlinechatapp.com","/api/loginuser"),data:{login__user:!0,username__login:e.target.username.value,password__login:e.target.password.value}};L()(a).then((function(e){n.setState({loading:!1});var a=e.data;n.props.handleLogin(a),n.props.history.push("/chat/".concat(a.username))})).catch((function(e){var a=e.response.data.error.error;console.log(e.response.data.error.error),n.setState({loading:!1,error:a})}))},n.loginForm=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:P.a.container__header},"LOGIN"),r.a.createElement("form",{method:"POST",onSubmit:n.handleForm},r.a.createElement("div",{className:P.a.container__username},r.a.createElement("input",{type:"text",name:"username",placeholder:"username",className:P.a.input__username,onChange:n.handleInput,value:n.state.name})),r.a.createElement("div",{className:P.a.container__password},r.a.createElement("input",{type:"password",name:"password",placeholder:"password",className:P.a.input__password,onChange:n.handleInput,value:n.state.name}),r.a.createElement("p",null,""!==n.state.error&&n.state.error)),r.a.createElement("div",{className:P.a.container__button},r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"Login"))))},n.state={name:null,loading:null,error:""},n}return Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:P.a.container},this.state.loading?r.a.createElement(D.a,{size:"large",tip:"logging in"}):this.loginForm())}}]),t}(r.a.Component),I=Object(b.g)(A),U=t(53),F=t(62),R=t.n(F),M=function(e){Object(_.a)(t,e);var a=Object(l.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).loadForm=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:R.a.container__header},"Create Account"),r.a.createElement("form",{method:"POST",onSubmit:n.handleForm},r.a.createElement("div",{className:R.a.container__username},r.a.createElement("input",{type:"text",name:"username",placeholder:"username",className:R.a.input__username,onChange:n.handleInput,value:n.state.name}),r.a.createElement("div",{className:R.a.error__input},n.state.errUsername.length>0&&n.state.errUsername.map((function(e){return e}))," ")),r.a.createElement("div",{className:R.a.container__password},r.a.createElement("input",{type:"password",name:"password",placeholder:"password",className:R.a.input__password,onChange:n.handleInput,value:n.state.name}),r.a.createElement("div",{className:R.a.error__input},n.state.errPassword.length>0&&n.state.errPassword.map((function(e){return e}))," ")),r.a.createElement("div",{className:R.a.container__password},r.a.createElement("input",{type:"password",name:"confirm__password",placeholder:"confirm",className:R.a.input__password,onChange:n.handleInput,value:n.state.name}),r.a.createElement("div",{className:R.a.error__input},n.state.errConfirmPwd.length>0&&n.state.errConfirmPwd.map((function(e){return e}))," ")),r.a.createElement("div",{className:R.a.container__password},r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"Login"))))},n.handleInput=function(e){var a=e.target.name,t=e.target.value;n.setState((function(e){return Object(U.a)({},a,t)}))},n.handleForm=function(e){e.preventDefault(),console.log("".concat("https://onlinechatapp.com","/api/createaccount"));var a={method:"POST",url:"".concat("https://onlinechatapp.com","/api/createaccount"),data:{username:e.target.username.value,password:e.target.password.value,confirm__password:e.target.confirm__password.value}};L()(a).then((function(e){n.props.handleLogin(e.data),n.props.history.push("/chat/".concat(e.data.username))})).catch((function(e){var a=e.response.data.isValidated.data,t=[],r=[],o=[];a.map((function(e){"username"==e.param?t=t.concat(e.msg):"password"==e.param?r=r.concat(e.msg):"confirm__password"==e.param&&(o=o.concat(e.msg))})),n.setState({errConfirmPwd:o,errUsername:t,errPassword:r,loading:!1})}))},n.state={name:null,errUsername:[],errPassword:[],errConfirmPwd:[],loading:null},n}return Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:R.a.container},this.state.loading?r.a.createElement(D.a,{size:"large",tip:"logging in"}):this.loadForm())}}]),t}(r.a.Component),H=Object(b.g)(M),q=t(101),z=t.n(q),W=function(e){return r.a.createElement("div",{className:"".concat(z.a.container," ").concat(z.a.toggled)},r.a.createElement("div",{className:z.a.container__icon},e.icon),r.a.createElement("div",{className:z.a.container__text},r.a.createElement("div",{className:z.a.heading},e.heading),r.a.createElement("div",{className:z.a.paragraph},e.paragraph)))},B=t(455),K=t(456),J=t(457),V=function(e){Object(_.a)(t,e);var a=Object(l.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).myFooter=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{xs:24,sm:16,md:12,lg:6,className:x.a.footer__column__two},r.a.createElement("div",{className:x.a.footer__header__main},"About"),r.a.createElement("div",{className:x.a.footer__container__about},"This is a chat application that allows you to create an account, add/delete friends, and create/delete groups. Users are allowed to add friends to 'favourites' and can set a lock to their conversations so that a password must be entered to chat or view conversation history.   ")),r.a.createElement(y.a,{xs:24,sm:16,md:12,lg:4,className:x.a.footer__column__two},r.a.createElement("div",{className:x.a.footer__header__main},"Contact"),r.a.createElement("div",{className:"".concat(x.a.footer__container__contact)},r.a.createElement("div",{className:x.a.rre},r.a.createElement("div",{className:x.a.footer__icon__container}," ",r.a.createElement(C.a,{className:x.a.icon__contact}),r.a.createElement("a",{href:"https://www.linkedin.com/in/alexanderhailu"},"LinkedIn")," "),r.a.createElement("div",{className:x.a.footer__icon__container},r.a.createElement(S.a,{className:x.a.icon__contact})," ",r.a.createElement("a",{href:"https://github.com/ahailu1"},"Github")),r.a.createElement("div",{className:x.a.footer__icon__container},r.a.createElement(w.a,{className:x.a.icon__contact})," alex.hailu@hotmail.com")))),r.a.createElement(y.a,{xs:24,sm:16,md:12,lg:7,className:x.a.footer__column__two},r.a.createElement("div",{className:x.a.footer__header__main},"Technologies Used"),r.a.createElement("div",{className:"".concat(x.a.footer__container__technologies)},r.a.createElement("div",null,r.a.createElement("p",{className:x.a.footer__header},"Front End"),r.a.createElement("p",null,"ReactJS"),r.a.createElement("p",null,"CSS"),r.a.createElement("p",null,"SASS"),r.a.createElement("p",null,"Socket Io"),r.a.createElement("p",null,"Ant Design")),r.a.createElement("div",null,r.a.createElement("p",{className:x.a.footer__header},"Back End"),r.a.createElement("p",null,"NodeJS"),r.a.createElement("p",null,"ExpressJs"),r.a.createElement("p",null,"Socket Io"),r.a.createElement("p",null,"PostgreSQL")),r.a.createElement("div",null,r.a.createElement("p",{className:x.a.footer__header},"Misc"),r.a.createElement("p",null,"Git Version Control"),r.a.createElement("p",null,"NGINX Web Server"),r.a.createElement("p",null,"Linux OS")))),r.a.createElement(y.a,{xs:24,sm:16,md:12,lg:7,className:"".concat(x.a.footer__column__two," ").concat(x.a.information)},r.a.createElement("div",{className:x.a.footer__header__main},"About"),r.a.createElement("div",{className:x.a.footer__container__about},"I am an aspiring Web Developer and this is my very first web-application. I started with elementary knowledge of both PHP and Javascript and with little knowledge of Node.js and ReactJs. I wanted to learn not only new programming languages, but also things such as CRUD operations and Rest-Apis, both of which are prevalent in the world of programming. I figured the best way to learn is to build, which is why I created this program in such a way that integrates those important concepts. I've kept this application in my portfolio to show where I started and how far i've come as shown in my other projects.")))},n.state={name:null},n}return Object(i.a)(t,[{key:"render",value:function(){var e={paragraph:"Create and join groups within 2 clicks. Just enter your description, group-ID and Group Name",heading:"Create Groups",icon:r.a.createElement(B.a,null)},a={paragraph:"Add a lock to your so that no one can view your conversations without a password",heading:"Lock your chat",icon:r.a.createElement(K.a,null)},t={paragraph:"all conversation history is saved so that when you log out and then log back in, your conversation is still there",heading:"Saved Conversation History",icon:r.a.createElement(J.a,null)};return r.a.createElement("div",null,this.props.render(),r.a.createElement(O.a,{className:x.a.container__row},r.a.createElement(y.a,{flex:5,className:x.a.container__column},r.a.createElement("div",{className:x.a.container__header},"Welcome to my Chat Application",r.a.createElement("br",null),r.a.createElement("p",null,"This is a platform that allows you to add friends, create groups, and start chatting immediately")),r.a.createElement("div",{className:x.a.container__form},r.a.createElement(I,{props:this.props,handleLogin:this.props.handleLogin}),r.a.createElement(H,{props:this.props,handleLogin:this.props.handleLogin})))),r.a.createElement(O.a,{className:x.a.container__row__two},r.a.createElement(y.a,{xs:0,sm:0,md:12,lg:12,xl:12,className:x.a.container__column__two}),r.a.createElement(y.a,{xs:24,sm:24,md:12,lg:12,xl:12,className:x.a.container__column__three},r.a.createElement(W,e),r.a.createElement(W,a),r.a.createElement(W,t))),r.a.createElement(O.a,{className:x.a.footer__row},this.myFooter()))}}]),t}(r.a.Component),Y=t(129),X=t(120),Q=t(50),Z=t.n(Q),$=t(76),ee=t(441),ae=t(451),te=t(442),ne=t(444),re=t(250),oe=t(25),ce=t.n(oe),se=t(460),ie=t(461),_e=t(465),le=t(24),ue=t.n(le),me=t(447),pe=t(445),de=t(83),ge=t.n(de),he=function(e){Object(_.a)(t,e);var a=Object(l.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){n.getMessage(),n.getGroupInfo(),n.checkGroupProfile(),n.getMsgHistory()},n.getMsgHistory=function(){var e=n.props.groupId;L.a.get("".concat("https://onlinechatapp.com","/chat/groups/chathistory/").concat(e)).then((function(e){var a=e.data.msgHistory;console.log(a),n.setState({msgHistory:a,loadHistory:!1})})).catch((function(e){n.setState({loadHistory:!1,historyMsg:"couldnt fetch history. please refresh pagee"})}))},n.getGroupInfo=function(){n.setState({loadingFriends:!0});var e=n.props.groupId;L.a.get("".concat("https://onlinechatapp.com","/chat/groups/groupinfo/").concat(e)).then((function(e){var a=e.data.groupMembers,t=[];a.forEach((function(e){t.push(e.group_member_username)})),n.setState({groupMembers:t}),n.setState({loadingFriends:!1})})).catch((function(e){}))},n.getMessage=function(e){var a=n.props.groupId;ge()("".concat("https://onlinechatapp.com")).on(a,(function(e){n.setState((function(a){var t=a.myMessages;return{myMessages:t=t.concat(e)}}))}))},n.msgBox=function(e){var a,t,o,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=n.props.userData.username;if(!0===c){var i=e.group_member_username,_=(e.group_id,e.group_message),l=e.timezone;a=i,o=_,t=new Date(l).toLocaleString()}else{var u=e.message,m=e.username,p=e.time;o=u,a=m,t=p}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"".concat(ue.a.message__container," ").concat(a===s&&ue.a.toggled)},r.a.createElement("div",{className:ue.a.message__container__sent},r.a.createElement("div",{className:ue.a.message__image}," ",r.a.createElement(me.a,{size:"large",src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_CHAT_URL:"https://onlinechatapp.com"}).REACT_APP_CHAT_IMAGE_URL,"/").concat(a,"--profilepicture.png")},"U")," "),r.a.createElement("div",{className:ue.a.message__format},r.a.createElement("div",{className:ue.a.message__timestamp},r.a.createElement("p",{className:"".concat(ue.a.message__username," ").concat(a&&ue.a.toggled)},a),r.a.createElement("p",{className:"".concat(ue.a.message__time)},t)),r.a.createElement("div",{className:ue.a.message__actualmessage},o)))))},n.handleText=function(e){var a=e.target.value;console.log(a),n.setState({mymsg:a})},n.sendMessage=function(e){e.preventDefault();var a=e.target.mymsg.value,t=n.props.socket,r=n.props.userData.username,o=(new Date).toLocaleString(),c={message:a,groupId:n.props.groupId,username:r,time:o};t.emit("groupMessage",c),n.setState({mymsg:""})},n.checkGroupProfile=function(){var e=n.props.groupId;L.a.get("".concat("https://onlinechatapp.com","/chat/groups/profilepicture/").concat(e)).then((function(e){var a=e.data.profilePicture;n.setState({groupProfile:a})})).catch((function(e){}))},n.state={myMessages:[],groupMembers:[],groupInfo:{},loadingFriends:!0,groupProfile:"",msgHistory:[],loadHistory:!0,historyMsg:"",mymsg:""},n.msgBox=n.msgBox.bind(Object(v.a)(n)),n}return Object(i.a)(t,[{key:"render",value:function(){var e=this,a=(this.msgBox,this.props.groupName,ge()("".concat("https://onlinechatapp.com")),this.state.mymsg),t=pe.a.TextArea;return r.a.createElement("div",{className:ue.a.container__groupchatbox},r.a.createElement("div",{className:ue.a.container__dialogue},r.a.createElement("div",{className:ue.a.container__dialogue__wrapper__container},r.a.createElement("div",{className:ue.a.container__dialogue__wrapper},r.a.createElement("div",{className:ue.a.container__dialogue__messages},r.a.createElement("div",{className:ue.a.container__sent__socket},this.state.loadHistory?r.a.createElement(D.a,null):this.state.msgHistory.map((function(a,t){return e.msgBox(a,t,!0)}))),r.a.createElement("div",{className:ue.a.container__sent__socket},this.state.myMessages.map((function(a,t){return e.msgBox(a,t)})))))),r.a.createElement("div",{className:ue.a.container__messagebox},r.a.createElement("form",{onSubmit:this.sendMessage,className:ue.a.form,htmlType:"submit"},r.a.createElement(t,{className:ue.a.textarea,type:"text",name:"mymsg",value:a,onChange:this.handleText}),r.a.createElement(j.a,{type:"default",size:"large",className:ue.a.button,htmlType:"submit"},"Send")))),r.a.createElement("div",{className:ue.a.container__groupinformation},r.a.createElement("div",{className:ue.a.container__groupinformation__wrapper},r.a.createElement("div",{className:ue.a.group__image__container},r.a.createElement(me.a,{size:85,shape:"circle",className:ue.a.group__image,src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_CHAT_URL:"https://onlinechatapp.com"}).REACT_APP_CHAT_IMAGE_URL,"/").concat(this.state.groupProfile),alt:"profilepicture"}),r.a.createElement("p",{className:ue.a.title},this.props.groupName)),r.a.createElement("div",{className:ue.a.group__name},r.a.createElement("p",{className:ue.a.title__description},this.props.description," "))),r.a.createElement("div",{className:ue.a.group__members__container},r.a.createElement("div",{className:ue.a.group__members__heading},r.a.createElement(J.a,{className:ue.a.group__members__icon})," ",r.a.createElement("p",{className:ue.a.title},"Group Members")),r.a.createElement("div",{className:ue.a.group__members__username__container},this.state.loadingFriends?r.a.createElement(D.a,null):this.state.groupMembers.map((function(e,a){return r.a.createElement("div",{className:ue.a.username__container},r.a.createElement(me.a,{key:"".concat(a,"---isthekey"),shape:"circle",size:"large",src:"".concat("https://onlinechatapp.com","/").concat(e,"--profilepicture.png")},"U "),r.a.createElement("p",{className:ue.a.username},e))})))),r.a.createElement("div",null)))}}]),t}(r.a.Component),fe=t(249),ve=t(443),Ee=t(67),be=t(253),Ne=t(130),ye=t.n(Ne),Oe=function(e){Object(_.a)(t,e);var a=Object(l.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).beforeUpload=function(e){var a="image/jpeg"===e.type||"image/png"===e.type;a||fe.b.error("You can only upload JPG/PNG file!");var t=e.size/1024/1024<2;return t||fe.b.error("Image must smaller than 2MB!"),a&&t},n.loadProfile=Object($.a)(Z.a.mark((function e(){var a,t,r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.userData,a.username,t=a.token,e.prev=1,e.next=4,L.a.get("".concat(n.props.actionUrl),{headers:{Authorization:"Bearer"+t}});case 4:r=e.sent,n.setState({profilePath:r.data.profilePicture}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.response.data.default,n.setState({profilePath:"default--profilepicture.png"});case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),n.uploadButton=function(){var e=n.state.loading;return r.a.createElement("div",null,e?r.a.createElement(Ee.a,null):r.a.createElement(be.a,null),r.a.createElement("div",{style:{marginTop:8}},"Upload"))},n.handleButton=function(e){e.preventDefault()},n.getBase64=function(e,a){var t=new FileReader;t.addEventListener("load",(function(){return a(t.result)})),t.readAsDataURL(e)},n.handleChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&n.getBase64(e.file.originFileObj,(function(e){return n.setState({imageUrl:e,loading:!1})})):n.setState({loading:!0})},n.loadProfile=n.loadProfile.bind(Object(v.a)(n)),n.state={profilepic:null,image:null,loading:!1,imageUrl:null},n}return Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadProfile()}},{key:"render",value:function(){var e=this.props.userData.username;this.state.imageUrl;return r.a.createElement("div",{className:"".concat(ye.a.container__profile," ").concat(this.props.toggled&&ye.a.toggled)},r.a.createElement(ve.a,{name:"avatar",listType:"picture",className:ye.a.avatar__uploader,showUploadList:!1,action:this.props.actionUrl,beforeUpload:this.beforeUpload,onChange:this.handleChange},r.a.createElement(me.a,{className:ye.a.image,src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_CHAT_URL:"https://onlinechatapp.com"}).REACT_APP_CHAT_IMAGE_URL,"/").concat(e,"--profilepicture.png"),alt:"avatar",size:this.props.setSize})))}}]),t}(n.PureComponent),Ce=t(462),Se=t(463),we=t(252),ke=t(464),xe=t(9),je=t.n(xe),De=t(61),Te=t(12),Pe=t.n(Te),Ge=t(458),Le=t(459),Ae=function(e){var a=Object(n.useState)(!1),t=Object(De.a)(a,2),o=t[0],c=t[1],s=Object(n.useState)(!1),i=Object(De.a)(s,2),_=i[0],l=i[1],u=Object(n.useState)(!1),m=Object(De.a)(u,2),p=m[0],d=m[1],g=Object(n.useState)(!1),h=Object(De.a)(g,2),f=h[0],v=h[1],E=Object(n.useState)(""),b=Object(De.a)(E,2),N=b[0],y=b[1],O=Object(n.useState)([]),C=Object(De.a)(O,2),S=C[0],w=C[1],k=Object(n.useState)(!1),x=Object(De.a)(k,2),D=x[0],T=x[1],P=Object(n.useState)(!1),G=Object(De.a)(P,2),A=G[0],I=G[1],U=function(e){v(!f)},F=function(e){e.currentTarget.id;d(!p)},R=function(e){0===S.length?(w(["favourites","chat","trash"]),l(!0)):(l(!1),w([]))},M=function(){-1!==e.myLock.indexOf(e.friendname)?(c(!o),0===S.length?w(["favourites","lock","trash"]):w([])):(e.createChat(e.friendname),T(!0))},H=function(a,t,n){var r,o,c,s,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];a.preventDefault();var _,u=e.userData.username;c=-1!==e.myUsers.indexOf(n)?1:2,i?(s=a.target.removepwd.value,r="removelock",o="put"):(s=a.target.setpass.value,_=a.target.confirmpass.value,s,r="setlock",o="post");var m={method:"".concat(o),url:"".concat("https://onlinechatapp.com","/chat/friendslist/").concat(r,"/"),data:{username:u,password:s,friendname:n,query:c}};!i&&s===_&&""!==s||1==i?L()(m).then((function(e){console.log(n),I(!A),w([]),l(!1),t(n)})).then((function(e){})).catch((function(e){var a=e.response.data.errormsg;console.log(a),y("couldnt lock chat: error. Try again")})):y("passwords do not match")};return r.a.createElement("div",{className:Pe.a.container},r.a.createElement("div",{className:"".concat(Pe.a.container__username)},!1!==e.avatar&&e.avatar(),e.friendname),r.a.createElement("div",{className:Pe.a.container__icon},r.a.createElement("div",{className:"".concat(Pe.a.chaticon__container," ").concat(o&&Pe.a.toggled," ").concat(-1!=S.indexOf("chat")&&Pe.a.toggled__off)},r.a.createElement(Ge.a,{onClick:M,className:"".concat(Pe.a.chaticon," ").concat(D&&Pe.a.toggled)}),o&&r.a.createElement("form",{method:"post",onSubmit:function(a){!function(a,t){var n;a.preventDefault(),n=-1!==e.myUsers.indexOf(t)?1:2;var r=e.userData.username,s=a.target.loginpwd.value,i={method:"POST",url:"".concat("https://onlinechatapp.com","/chat/friendslist/unlock"),data:{username:r,friendname:t,query:n,password:s}};L()(i).then((function(a){e.createChat(e.friendname),c(!o),T(!0),w([])})).catch((function(e){}))}(a,e.friendname)}},r.a.createElement("div",{className:Pe.a.confirm},r.a.createElement("input",{name:"loginpwd",type:"password",placeholder:"Set Password",className:Pe.a.input__password})),r.a.createElement("div",{className:"".concat(Pe.a.container__button)},r.a.createElement(j.a,{htmlType:"submit",type:"default",size:"small",className:Pe.a.button},"Chat "),r.a.createElement(j.a,{type:"default",size:"small",className:Pe.a.button,onClick:M},"Cancel")))),e.favourite&&r.a.createElement("div",{className:"".concat(Pe.a.container__icon__alternative," ").concat(D&&Pe.a.toggled," ").concat(-1!=S.indexOf("favourites")&&Pe.a.toggled__off," ")},e.thisicon(F,p),r.a.createElement("div",{className:"".concat(Pe.a.container__button__favourite," ").concat(p&&Pe.a.toggled)},r.a.createElement("div",{className:Pe.a.confirm}," Confirm "),r.a.createElement("div",{className:"".concat(Pe.a.container__button)},r.a.createElement(j.a,{type:"default",size:"small",className:Pe.a.button,onClick:function(){e.setFunction(e.friendname,!0),d(!p)}},"Yes"),r.a.createElement(j.a,{type:"default",size:"small",className:Pe.a.button,onClick:F},"No")))),e.locked&&r.a.createElement("div",{className:"".concat(Pe.a.container__icon__lock," ").concat(_&&Pe.a.toggled," ").concat(-1!=S.indexOf("lock")&&Pe.a.toggled__off," ")},r.a.createElement(K.a,{className:"".concat(Pe.a.myicon," ").concat(e.isLocked&&Pe.a.highlighted),onClick:R}),r.a.createElement("div",{className:"".concat(Pe.a.container__button__lock," ").concat(_&&Pe.a.toggled)},!e.isLocked&&r.a.createElement("form",{method:"post",className:"".concat(A&&Pe.a.isset),onSubmit:function(a){H(a,e.setLock,e.friendname,!1)}},r.a.createElement("div",{className:"".concat(Pe.a.confirm)},r.a.createElement("input",{name:"setpass",id:"mypass",type:"password",placeholder:"Enter Password",className:Pe.a.input__password,required:!0}),r.a.createElement("input",{name:"confirmpass",type:"password",placeholder:"Confirm",className:Pe.a.input__password,required:!0}),r.a.createElement("p",null,N)),r.a.createElement("div",{className:"".concat(Pe.a.container__button)},r.a.createElement(j.a,{htmlType:"submit",type:"default",size:"small",className:Pe.a.button},"Set "),r.a.createElement(j.a,{type:"default",size:"small",className:Pe.a.button,onClick:R},"Cancel"))),e.isLocked&&r.a.createElement("form",{method:"post",onSubmit:function(a){H(a,e.deleteLock,e.friendname,!0)}},r.a.createElement("div",{className:"".concat(Pe.a.confirm)},r.a.createElement("input",{name:"removepwd",id:"mypass",type:"password",placeholder:"Remove Password",className:Pe.a.input__password,required:!0}),r.a.createElement("p",null,N)),r.a.createElement("div",{className:"".concat(Pe.a.container__button)},r.a.createElement(j.a,{htmlType:"submit",type:"default",size:"small",className:Pe.a.button},"Remove "),r.a.createElement(j.a,{type:"default",size:"small",className:Pe.a.button,onClick:R},"Cancel"))))),r.a.createElement("div",{className:"".concat(Pe.a.container__icon__trash," ").concat(-1!=S.indexOf("trash")&&Pe.a.toggled__off)},r.a.createElement(Le.a,{className:"".concat(Pe.a.myicon," ").concat(f&&Pe.a.toggled),onClick:U}),r.a.createElement("div",{className:"".concat(Pe.a.container__button__trash," ").concat(f&&Pe.a.toggled)},r.a.createElement("div",{className:Pe.a.confirm},"Confirm"),r.a.createElement("div",{className:Pe.a.container__button},r.a.createElement(j.a,{type:"default",size:"small",className:Pe.a.button,onClick:function(){e.setDelete(),U()}},"Yes"),r.a.createElement(j.a,{type:"default",size:"small",className:Pe.a.button,onClick:U},"No"))))))},Ie=t(31),Ue=t.n(Ie),Fe=function(e){var a=Object(n.useState)(!1),t=Object(De.a)(a,2),o=(t[0],t[1],Object(n.useState)(!1)),c=Object(De.a)(o,2),s=c[0],i=c[1],_=Object(n.useState)(!1),l=Object(De.a)(_,2),u=l[0],m=l[1],p=function(){i(!s),m(!u)},d=function(){var a={description:e.groupDescription,groupId:e.groupId,groupName:e.groupName};e.createGroupChat([a])};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ue.a.container},r.a.createElement("div",{className:Ue.a.container__groupdata},r.a.createElement("div",{className:"".concat(Ue.a.container__groupdata__avatar," ").concat(e.joinedGroups&&Ue.a.toggled)},r.a.createElement("div",{className:Ue.a.container__groupdata__avatar__container},e.setProfile?r.a.createElement(Oe,{actionUrl:"".concat("https://onlinechatapp.com","/chat/groups/profilepicture/").concat(e.groupId),userData:e.userData,toggled:!0,setSize:50}):r.a.createElement(me.a,{src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_CHAT_URL:"https://onlinechatapp.com"}).REACT_APP_CHAT_IMAGE_URL,"/").concat(e.groupId,"--profilepicture.png"),size:64},"U")),e.description&&r.a.createElement("div",{className:Ue.a.container__groupdata__avatar__description},r.a.createElement("p",{className:"".concat(Ue.a.title)},"Description"),r.a.createElement("p",{className:Ue.a.title__description},e.groupDescription))),r.a.createElement("div",{className:"".concat(Ue.a.container__groupdata__information," ").concat(e.joinedGroups&&Ue.a.toggled)},r.a.createElement("div",{className:"".concat(Ue.a.container__groupid," ").concat(e.joinedGroups&&Ue.a.toggled)},r.a.createElement("p",{className:"".concat(Ue.a.title," ").concat(e.joinedGroups&&Ue.a.toggled)},"Group Id "),r.a.createElement("p",{className:Ue.a.title__description},e.groupId)),r.a.createElement("div",{className:Ue.a.container__groupname},r.a.createElement("p",{className:"".concat(Ue.a.title," ").concat(e.joinedGroups&&Ue.a.toggled)},"Group Name"),r.a.createElement("p",{className:Ue.a.title__description}," ",e.groupName)))),r.a.createElement("div",{className:Ue.a.container__icons},r.a.createElement("div",null,r.a.createElement(Le.a,{className:"".concat(Ue.a.icon," ").concat(Ue.a.icon__delete," ").concat(s&&Ue.a.toggled),onClick:p}),r.a.createElement("div",{className:"".concat(Ue.a.container__icons__deletebutton," ").concat(s&&Ue.a.toggled)},r.a.createElement(j.a,{onClick:function(){return a=e.userData.username,t=e.groupId,e.deleteFunc(a,t),void p();var a,t}},"Leave"),"             ",r.a.createElement(j.a,{onClick:p},"No"))),r.a.createElement("div",null,r.a.createElement(Ge.a,{className:"".concat(Ue.a.icon," ").concat(Ue.a.icon__chat," ").concat(u&&Ue.a.toggled),onClick:d})))))},Re=function(e){Object(_.a)(t,e);var a=Object(l.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){n.getLocked(),n.getmyGroup(),n.fetchAllGroups(),n.getJoinedGroups()},n.handleFriendInput=function(e){var a=e;n.setState({friendName:a,addError:""})},n.handleFilter=function(){var e=m.a.Option,a=n.props,t=a.users,o=a.friends,c=a.requests,s=a.pending,i=a.declined;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:je.a.container__autocomplete},r.a.createElement(ee.a,{icon:r.a.createElement(se.a,null),placeholder:"Search users",onChange:n.handleFriendInput,className:je.a.container__users,filterOption:function(e,a){return-1!==a.value.toUpperCase().indexOf(e.toUpperCase())}},t.map((function(a,t){return-1!==o.indexOf(a.value)?r.a.createElement(e,{key:a.value}," ",r.a.createElement("div",{className:je.a.container__options},r.a.createElement("div",{className:je.a.container__username},a.value),r.a.createElement("div",{className:je.a.container__icon},"Friends")," ")):-1!==c.indexOf(a.value)?r.a.createElement(e,{key:a.value}," ",r.a.createElement("div",{className:je.a.container__options},r.a.createElement("div",{className:je.a.container__username},a.value),r.a.createElement("div",{className:je.a.container__icon},"Requested")," ")):-1!==s.indexOf(a.value)||-1!==i.indexOf(a.value)?r.a.createElement(e,{key:a.value}," ",r.a.createElement("div",{className:je.a.container__options},r.a.createElement("div",{className:je.a.container__username},a.value),r.a.createElement("div",{className:je.a.container__icon},"pending")," ")):r.a.createElement(e,{key:a.value}," ",r.a.createElement("div",{className:je.a.container__options},r.a.createElement("div",{className:je.a.container__username},a.value),r.a.createElement("div",{className:je.a.container__icon},r.a.createElement(ie.a,null))," "))}))),r.a.createElement(j.a,{type:"primary",size:"medium",htmlType:"submit",className:je.a.container__autocomplete__button,onClick:n.handleAdd,disabled:""==n.state.friendName},"Add Friend")),r.a.createElement("p",{className:je.a.adderror},n.state.addError))},n.handleAdd=function(){var e=n.state.friendName,a=!1;n.props.users.map((function(t){t.value===e&&(a=!0)})),a?(n.props.addFriend(e),n.setState({addError:"friend Added",friendName:""})):n.setState({addError:"please enter an existing username"})},n.fetchAllGroups=function(){L.a.get("".concat("https://onlinechatapp.com","/chat/groups/allgroups")).then((function(e){var a=e.data.map((function(e){return e=e.group_id}));n.setState({allGroups:e.data,membersOnly:a})})).catch((function(e){}))},n.getmyGroup=function(){var e=n.props.userData.username;L.a.get("".concat("https://onlinechatapp.com","/chat/groups/mygroups/").concat(e)).then((function(e){var a=e.data.groupData;n.setState({myGroups:a,loading:!1})})).catch((function(e){n.setState({loading:!1})}))},n.getJoinedGroups=function(){n.setState({loadJoined:!0});var e=n.props.userData.username;L.a.get("".concat("https://onlinechatapp.com","/chat/groups/joinedgroups/").concat(e)).then((function(e){var a=e.data;n.setState({joinedGroups:a,loadJoined:!1})})).catch((function(e){n.setState({loadJoined:!1})}))},n.leaveGroup=function(e,a){L.a.get("".concat("https://onlinechatapp.com","/chat/groups/leavegroup/").concat(a,"/").concat(e)).then((function(e){n.setState((function(e){var t=e.joinedGroups;return{joinedGroups:t=t.filter((function(e){return e.group_id!=a}))}}))})).catch((function(e){}))},n.deleteGroup=function(e,a){L.a.get("".concat("https://onlinechatapp.com","/chat/groups/deletegroup/").concat(a,"/").concat(e)).then((function(e){n.setState((function(e){var t=e.myGroups,n=e.joinedGroups,r=e.allGroups;return t=t.filter((function(e){return e.group_id!=a})),r=r.filter((function(e){return e.group_id!=a})),{myGroups:t,joinedGroups:n=n.filter((function(e){return e.group_id!=a})),allGroups:r}}))})).catch((function(e){}))},n.handleInputChange=function(e){var a=e;n.setState({groupId:a,joinGroupError:""})},n.handleJoinGroup=function(){var e=n.props.userData.username,a=n.state,t=a.groupId,r=(a.joinedGroups,a.allGroups),o=a.membersOnly;if(n.state.joinedGroups.filter((function(e){if(e.group_id===t)return e})).length>0)n.setState({joinGroupError:"You have already Joined this group"});else if(-1===o.indexOf(t)){n.setState({joinGroupError:"Could Not Join Group. Please Enter A Valid Group ID"}),r.filter((function(e){return e.group_id!==t}))}else L.a.get("".concat("https://onlinechatapp.com","/chat/groups/join/").concat(t,"/").concat(e)).then((function(e){n.setState((function(e){var a=e.allGroups,n=e.joinedGroups;return a=a.filter((function(e){return e.group_id===t})),{joinedGroups:n.concat(a),joinGroupError:"Group Joined"}}))})).catch((function(e){n.setState({joinGroupError:"couldnt join group. try again"})}))},n.listGroups=function(){var e=m.a.Option;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:je.a.container__dropdown},r.a.createElement(ee.a,{name:"myautocomplete",placeholder:"Search users",onChange:n.handleInputChange,className:je.a.container__autocomplete,filterOption:function(e,a){return-1!==a.value.toUpperCase().indexOf(e.toUpperCase())}},n.state.allGroups.length>0&&n.state.allGroups.map((function(a){return r.a.createElement(e,{key:a.group_id,value:a.group_id,className:je.a.container__options},r.a.createElement("div",{className:je.a.container__groupinfo},r.a.createElement("div",{className:je.a.container__header__name},r.a.createElement("p",null,"Name->"),a.group_name," "),r.a.createElement("div",{className:je.a.container__header__id},r.a.createElement("p",null,"Id->"),a.group_id," ")))}))),r.a.createElement(j.a,{type:"primary",size:"medium",htmlType:"submit",className:je.a.container__dropdown__button,onClick:n.handleJoinGroup,disabled:""==n.state.groupId},"Join ")),r.a.createElement("div",{className:je.a.container__dropdown__error},n.state.joinGroupError))},n.deleteFriend=function(e,a){var t;t=-1===n.props.myUsers.indexOf(a)?1:2,L.a.delete("".concat("https://onlinechatapp.com","/chat/friendslist/deletefriend"),{data:{username:e,friendname:a,query:t}}).then((function(e){n.props.removeFriend(a),n.setState({deleteMsg:"friend Deleted"},(function(){}))})).catch((function(e){}))},n.declineRequest=function(){var e=Object($.a)(Z.a.mark((function e(a){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.userData.username,e.next=3,L.a.get("".concat("https://onlinechatapp.com","/chat/friendslist/declinerequest/").concat(t,"/").concat(a));case 3:e.sent,n.props.friendStatus();case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.deletePending=function(){var e=Object($.a)(Z.a.mark((function e(a){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.userData.username,e.next=3,L.a.get("".concat("https://onlinechatapp.com","/chat/friendslist/deletepending/").concat(t,"/").concat(a)).then((function(){n.props.friendStatus()})).catch((function(e){alert("there was a problem")}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.confirmFriend=function(e){var a=n.props.userData.username;L.a.get("".concat("https://onlinechatapp.com","/chat/friendslist/confirm/").concat(a,"/").concat(e)).then((function(e){n.props.friendStatus()})).catch((function(e){alert("friend not addadsaded")}))},n.setLock=function(e){n.setState((function(a){var t=a.locked;return{locked:t=t.concat(e)}}),(function(){}))},n.initGroup=function(){n.setState({toggleGroup:!n.state.toggleGroup})},n.handleChange=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(a){var t=e.target.name;n.setState(Object(U.a)({},t,""))}else{e.target.name,e.target.value;n.setState(Object(U.a)({},e.target.name,e.target.value))}},n.groupInput=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"".concat(je.a.group__container__icon)},r.a.createElement(Ce.a,{className:je.a.group__icon,onClick:n.initGroup})),r.a.createElement("div",{className:"".concat(je.a.group__container__form," ").concat(n.state.toggleGroup&&je.a.toggled," ")},r.a.createElement("form",{onSubmit:n.insertGroup,id:"group__form"},r.a.createElement("input",{type:"text",name:"group_name",className:je.a.form__input,placeholder:"Group Name",onChange:n.handleChange,maxLength:20,value:n.state.group_name,required:!0}),r.a.createElement("input",{type:"text",name:"group_id",className:je.a.form__input,placeholder:"Group ID",onChange:n.handleChange,value:n.state.group_id,maxLength:20,required:!0}),r.a.createElement("p",{className:"".concat(je.a.create__error)},n.state.createError),r.a.createElement("textarea",{type:"text",name:"group_description",className:"".concat(je.a.form__input," ").concat(je.a.textarea),value:n.state.group_description,onChange:n.handleChange,placeholder:"Group Description"}),r.a.createElement(j.a,{type:"primary",size:"medium",htmlType:"submit",className:je.a.group__button},"Create Group "))))},n.clearForm=function(){document.getElementById("group__form").reset()},n.insertGroup=function(e){e.preventDefault();var a=n.props.userData.username,t=n.state.group_name,r=n.state.group_id,o=n.state.group_description,c=n.state.membersOnly,s={groupName:t,groupId:r,groupCreator:a,groupDescription:o},i={group_name:t,group_id:r,description:o},_=/[^A-Za-z0-9_-]/.test(r);-1!==c.indexOf(r)?n.setState({createError:"could create group. Please enter unique group ID"}):_?n.setState({createError:"please enter only numbers, letters and underscores ."}):L.a.post("".concat("https://onlinechatapp.com","/chat/groups/creategroup"),s).then((function(e){n.setState((function(e){var a,t=e.myGroups;return a={createError:"Group Created",group_id:"",myGroups:t=t.concat([i])},Object(U.a)(a,"group_id",""),Object(U.a)(a,"group_name",""),Object(U.a)(a,"group_description",""),a}))})).catch((function(e){n.setState({createError:"there was an error. Please try again"})}))},n.getLocked=function(){var e=n.props.userData.username,a=n.props.fullList,t=[];console.log(a),console.log("right here bapaa"),a.forEach((function(a){3===parseInt(a.state)&&(a.username!==e||null===a.friendname_password&&!a.friendname_password?a.friendname!==e||null===a.username_password&&!a.username_password||t.push(a.username):t.push(a.friendname))})),n.setState((function(e){return{locked:e.locked.concat(t)}}))},n.removeLock=function(e){n.setState((function(a){var t=a.locked;return console.log(e+"ishere"),console.log(t),t=t.filter((function(a){return a!==e})),console.log(t),{locked:t}}))},n.state={locked:[],error:"",myGroups:[],allGroups:[],joinedGroups:[],loading:null,toggleGroup:!1,groupId:"",loadJoined:null,joinGroupError:"",friendName:"",addError:"",membersOnly:[],createError:"",group_id:"",group_name:"",group_description:""},n.setLock=n.setLock.bind(Object(v.a)(n)),n.deletePending=n.deletePending.bind(Object(v.a)(n)),n.deleteFriend=n.deleteFriend.bind(Object(v.a)(n)),n.removeLock=n.removeLock.bind(Object(v.a)(n)),n}return Object(i.a)(t,[{key:"render",value:function(){var e=this,a=(this.props,ne.a.TabPane),t={locked:!0,myUsers:this.props.myUsers,favourite:!0,userData:this.props.userData,myLock:this.state.locked,setLock:this.setLock,deleteLock:this.removeLock,error:this.state.error,thisicon:function(e,a){return r.a.createElement(Se.a,{className:"".concat(je.a.myicon," ").concat(a&&je.a.toggled),onClick:e,id:"star"})}},n={locked:!1,favourite:!0,userData:this.props.userData,avatar:!0,myLock:this.state.locked,thisicon:function(e,a){return r.a.createElement(we.a,{onClick:e,className:"".concat(je.a.myicon," ").concat(a&&je.a.toggled)})}},o={avatar:!0,locked:!1,favourite:!1,userData:this.props.userData,myLock:this.state.locked},c={myUsers:this.props.myUsers,avatar:!0,locked:!0,favourite:!1,setLock:this.setLock,userData:this.props.userData,myLock:this.state.locked},s={deleteFunc:this.leaveGroup,createGroupChat:this.props.createGroupChat,joinedGroups:!0,userData:this.props.userData,description:!1},i=Object(U.a)({deleteFunc:this.deleteGroup,createGroupChat:this.props.createGroupChat,joinedGroups:!0,userData:this.props.userData,description:!0},"joinedGroups",!1),_=this.props.userData.username;return r.a.createElement(ne.a,{className:je.a.tab__pane__container,defaultActiveKey:"2"},r.a.createElement(a,{key:"1",tab:r.a.createElement("span",{className:je.a.tab},r.a.createElement(ke.a,null),"Friends")},this.handleFilter(),console.log(this.props.friends),r.a.createElement("div",{className:je.a.container__myfriends},this.props.friends.length>0&&this.props.friends.map((function(a,n){return console.log(a),r.a.createElement(Ae,Object.assign({setDelete:function(){e.deleteFriend(_,a)}},t,{isLocked:-1!=e.state.locked.indexOf(a),setFunction:function(){e.props.toggleFavourite(a,!0)},friendname:a,key:n,createChat:function(){e.props.createChat(a)},avatar:function(){return r.a.createElement(me.a,Object(U.a)({shape:"circle",size:55,src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_CHAT_URL:"https://onlinechatapp.com"}).REACT_APP_CHAT_IMAGE_URL,"/").concat(a,"--profilepicture.png"),className:je.a.container__avatar},"className","".concat(je.a.avatar)),"U")}}))})))),r.a.createElement(a,{key:"2",tab:r.a.createElement("span",{className:je.a.tab},r.a.createElement(ke.a,null),"Requests")},r.a.createElement("div",{className:je.a.container__requests},this.props.requests.map((function(a,t){return r.a.createElement(Ae,Object.assign({},n,{setDelete:function(){e.declineRequest(a),alert("hello")},setFunction:function(){e.confirmFriend(a)},friendname:a,key:t,createChat:function(){e.props.createChat(a)},avatar:function(){return r.a.createElement(me.a,Object(U.a)({shape:"circle",size:55,src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_CHAT_URL:"https://onlinechatapp.com"}).REACT_APP_CHAT_IMAGE_URL,"/").concat(a,"--profilepicture.png"),className:je.a.container__avatar},"className","".concat(je.a.avatar)))}}))})))),r.a.createElement(a,{key:"3",tab:r.a.createElement("span",{className:je.a.tab},r.a.createElement(ke.a,null),"Pending")},r.a.createElement("div",{className:je.a.container__requests},this.props.pending.map((function(a,t){return r.a.createElement(Ae,Object.assign({},o,{displayIcon:function(){return!1},friendname:a,setDelete:function(){e.deletePending(a)},key:t,createChat:function(){e.props.createChat(a)},avatar:function(){return r.a.createElement(me.a,Object(U.a)({shape:"circle",size:55,src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_CHAT_URL:"https://onlinechatapp.com"}).REACT_APP_CHAT_IMAGE_URL,"/").concat(a,"--profilepicture.png"),className:je.a.container__avatar},"className","".concat(je.a.avatar)),"U ")}}))})))),r.a.createElement(a,{key:"4",tab:r.a.createElement("span",{className:je.a.tab},r.a.createElement(ke.a,null),"Favorites")},r.a.createElement("div",{className:je.a.container__requests},this.props.favourites.map((function(a){return r.a.createElement(Ae,Object.assign({},c,{isLocked:-1!=e.state.locked.indexOf(a),friendname:a,createChat:function(){e.props.createChat(a)},friendName:a,setDelete:function(){e.props.toggleFavourite(a,!1)},avatar:function(){return r.a.createElement(me.a,Object(U.a)({shape:"circle",size:"large",src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_CHAT_URL:"https://onlinechatapp.com"}).REACT_APP_CHAT_IMAGE_URL,"/").concat(a,"--profilepicture.png"),className:je.a.container__avatar},"className","".concat(je.a.avatar)))}}))})))),r.a.createElement(a,{key:"5",tab:r.a.createElement("span",{className:je.a.tab},r.a.createElement(ke.a,null),"MyGroups")},r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{className:je.a.tab__container},r.a.createElement(a,{tab:r.a.createElement("span",{className:je.a.tab__title},"Join Group "),key:"1",className:je.a.tab__key},this.listGroups()),r.a.createElement(a,{tab:r.a.createElement("span",{className:je.a.tab__title},"Create Group "),key:"2",className:je.a.tab__key},this.groupInput(),r.a.createElement("div",{className:"".concat(je.a.container__requests__creategroup," ").concat(this.state.toggleGroup&&je.a.toggled)},this.state.loading?r.a.createElement(D.a,null):this.state.myGroups.map((function(a,t){return r.a.createElement(Fe,Object.assign({setProfile:!0},i,{createGroupChat:e.props.createGroupChat,key:"".concat(t,"/grouponclick"),groupDescription:a.description,groupName:a.group_name,groupId:a.group_id}))})))),r.a.createElement(a,{tab:r.a.createElement("span",{className:je.a.tab__title},"All Groups"),key:"3"},r.a.createElement("div",{className:je.a.container__allgroups},this.state.loadJoined?r.a.createElement(D.a,null):this.state.joinedGroups.map((function(e,a){return r.a.createElement(Fe,Object.assign({setProfile:!1},s,{key:a,groupDescription:e.description,groupName:e.group_name,groupId:e.group_id}))}))))))))}}]),t}(r.a.Component),Me=t(27),He=t.n(Me),qe=r.a.createContext(),ze=(qe.Provider,qe.Consumer,qe),We=t(247),Be=t.n(We),Ke=function(e){Object(_.a)(t,e);var a=Object(l.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){n.getHistory(),n.getMessage()},n.getFriends=Object($.a)(Z.a.mark((function e(){var a,t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.userData.username,e.next=3,L.a.get("".concat("https://onlinechatapp.com","/chat/friendslist/getfriends/").concat(a));case 3:t=e.sent,t.data;case 5:case"end":return e.stop()}}),e)}))),n.createProfile=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:He.a.container__avatar},r.a.createElement(me.a,{shape:"circle",size:125,src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_CHAT_URL:"https://onlinechatapp.com"}).REACT_APP_CHAT_IMAGE_URL,"/").concat(e,"--profilepicture.png"),className:He.a.avataraz},"U")),r.a.createElement("div",{className:He.a.container__username}))},n.getMessage=function(){var e=n.props.userData.username;n.props.socket.on(e,(function(e){e.sender==n.props.friendName&&n.setState((function(a){return{messages:a.messages.concat(e)}}))})),0!=n.props.initMessage&&n.setState((function(e){return{messages:e.messages.concat(n.props.initMessage)}}))},n.getHistory=function(){var e=n.props.userData.username;console.log(e+"hello");L.a.get("".concat("https://onlinechatapp.com","/chat/chatbox/").concat(e,"/").concat(n.props.friendName)).then((function(e){e.data.forEach((function(e){})),n.setState({msgHistory:e.data})})).catch((function(e){}))},n.messageHistory=function(e,a){var t=e.timezone;return t=new Date(e.timezone).toLocaleString(),r.a.createElement("div",{className:"".concat(He.a.message__sent," ").concat(e.sender==n.props.friendName&&He.a.toggled),key:a},r.a.createElement(me.a,{className:He.a.message__sent__avatar,src:"".concat("https://onlinechatapp.com","/").concat(e.sender,"--profilepicture.png")},"U"),r.a.createElement("div",{className:He.a.container__history__message},r.a.createElement("div",{className:He.a.container__history__format},r.a.createElement("div",{className:He.a.sender}," ",e.sender," "),r.a.createElement("div",{className:He.a.time}," ",t," ")),r.a.createElement("div",null,e.message)))},n.handleText=function(e){var a=e.target.value;console.log(a),n.setState({mymsg:a})},n.sendMessage=function(e){e.preventDefault();var a=n.props.userData.username,t=n.props.friendName,r=e.target.message.value,o=n.props.socket,c=(new Date).toLocaleString(),s={room:n.props.friendName,message:r,sender:a,recipient:t,time:c};n.setState((function(e){return{messages:e.messages.concat(s),mymsg:""}})),o.emit("message",s)},n.state={messages:[],initMessage:!1,toggled:!1,msgHistory:[],friends:[],mymsg:""},n.getMessage=n.getMessage.bind(Object(v.a)(n)),n}return Object(i.a)(t,[{key:"render",value:function(){var e=this,a=this.state,t=a.msgHistory,n=a.mymsg;this.props.userData.username;return r.a.createElement("div",{className:"".concat(He.a.container__chatbox," ").concat(this.props.toggled.includes(this.props.friendName)&&He.a.toggled)},r.a.createElement("div",{className:He.a.container__sent},r.a.createElement("div",{className:He.a.container__chat},r.a.createElement("div",{className:He.a.container__wrapper0},r.a.createElement("div",{className:He.a.container__wrapper},r.a.createElement("div",{className:He.a.container__history},t.length>0&&t.map((function(a,t){return e.messageHistory(a,t)}))),r.a.createElement("div",{className:He.a.sent},this.state.messages.length>0&&this.state.messages.map((function(a,t){return r.a.createElement("div",{className:"".concat(He.a.message__sent," ").concat(a.sender==e.props.friendName&&He.a.toggled),key:t},r.a.createElement(me.a,{className:He.a.message__sent__avatar,src:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_CHAT_URL:"https://onlinechatapp.com"}).REACT_APP_CHAT_IMAGE_URL,"/").concat(a.sender,"--profilepicture.png")},"U"),r.a.createElement("div",{className:He.a.container__history__message},r.a.createElement("div",{className:He.a.container__history__format},r.a.createElement("div",{className:He.a.sender}," ",a.sender," "),r.a.createElement("div",{className:He.a.time}," ",a.time," ")),r.a.createElement("div",null,a.message)))}))))),r.a.createElement("div",{className:He.a.container__form},r.a.createElement("form",{className:He.a.form,onSubmit:this.sendMessage},r.a.createElement("div",{className:He.a.container__message},r.a.createElement("div",{className:He.a.container__input},"   ",r.a.createElement(Be.a,{type:"text",name:"message",className:He.a.input,onChange:this.handleText,value:n}),"    "),r.a.createElement("div",{className:He.a.container__button},r.a.createElement(j.a,{type:"default",htmlType:"submit",className:He.a.button},"Send"))))))),r.a.createElement("div",{className:He.a.container__profile},this.createProfile(this.props.friendName)))}}]),t}(r.a.Component);Ke.contextType=ze;var Je=Ke,Ve=function(e){Object(_.a)(t,e);var a=Object(l.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){n.friendStatus()},n.handleFilter=function(){var e=m.a.Option,a=n.props.users,t=n.state,o=t.friends,c=t.requests,s=t.pending,i=[];return o.forEach((function(e){alert(e),i.push(e.friendname)})),r.a.createElement(ee.a,{icon:r.a.createElement(se.a,null),placeholder:"Search users",style:{width:200,color:"green"},className:ce.a.container__users,filterOption:function(e,a){return-1!==a.value.toUpperCase().indexOf(e.toUpperCase())}},a.map((function(a,t){return-1!==i.indexOf(a.value)?r.a.createElement(e,{key:a.value}," ",r.a.createElement("div",{className:ce.a.container__options},r.a.createElement("div",{className:ce.a.container__username},a.value),r.a.createElement("div",{className:ce.a.container__icon},"Friends")," ")):-1!==c.indexOf(a.value)?r.a.createElement(e,{key:a.value}," ",r.a.createElement("div",{className:ce.a.container__options},r.a.createElement("div",{className:ce.a.container__username},a.value),r.a.createElement("div",{className:ce.a.container__icon},r.a.createElement(ie.a,{onClick:function(){return n.props.addFriend(a.value)}}))," ")):-1!==s.indexOf(a.value)?r.a.createElement(e,{key:a.value}," ",r.a.createElement("div",{className:ce.a.container__options},r.a.createElement("div",{className:ce.a.container__username},a.value),r.a.createElement("div",{className:ce.a.container__icon},"pending")," ")):r.a.createElement(e,{key:a.value}," ",r.a.createElement("div",{className:ce.a.container__options},r.a.createElement("div",{className:ce.a.container__username},a.value),r.a.createElement("div",{className:ce.a.container__icon},r.a.createElement(ie.a,{onClick:function(){return n.props.addFriend(a.value)}}))," "))})))},n.addFriend=function(){var e=Object($.a)(Z.a.mark((function e(a){var t,r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a,r=n.props.userData.username,n.state.requests.includes(t)?alert("name taken"):n.state.pending.includes(t)?alert("name is pending"):n.state.friends.some((function(e){return e===t}))?alert("name already added"):L.a.get("".concat("https://onlinechatapp.com","/chat/friendslist/addfriend/").concat(r,"/").concat(t)).then((function(){n.setState((function(e){return{value:"",pending:e.pending.concat(t)}}))}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n.toggleUser=function(e){n.setState((function(a){return{initChat:a.filter((function(a){return a!=e}))}}))},n.toggleFavourite=function(e,a){var t,r=n.props.userData.username,o=e;t=-1!==n.state.myUsers.indexOf(o)?1:2,L.a.get("".concat("https://onlinechatapp.com","/chat/friendslist/setfavourites/").concat(r,"/").concat(o,"/").concat(a,"/").concat(t)).then(n.setState((function(t){var n,r=t.favourites,c=t.friends;return!1===a||"false"===a?(n=r.filter((function(a){return a!=e})),c=c.concat(e)):(c=c.filter((function(e){return e!=o})),n=r.concat(e)),{friends:c,favourites:n}}))).catch((function(e){}))},n.friendStatus=Object($.a)(Z.a.mark((function e(){var a,t,r,o,c,s,i,_,l;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.prev=1,a=[],t=[],r=[],o=[],c=[],[],s=[],i=n.props.userData.username,e.next=12,L.a.get("".concat("https://onlinechatapp.com","/chat/friendslist/friendstatus/").concat(i));case 12:return _=e.sent,e.next=15,_.data;case 15:(l=e.sent).forEach((function(e){if(console.log(e),e.friendname===i&&-1==s.indexOf(e.username)&&s.push(e.username),"3"===e.state&&e.friendname===i&&!0!==e.username_isfavourite||"3"===e.state&&e.username===i&&!0!==e.friendname_isfavourite){var n=e.friendname===i?e.username:e.friendname;-1==c.indexOf(n)&&(c.push(n),console.log(c))}else if("1"==e.state&&e.username===i)a.push(e.friendname);else if("1"==e.state&&e.friendname===i)t.push(e.username);else if("4"===e.state&&e.username===i)r.push(e.friendname);else if(e.username===i&&!0===e.friendname_isfavourite||e.friendname===i&&!0===e.username_isfavourite){var _=e.friendname===i?e.username:e.friendname;-1===o.indexOf(_)&&o.push(_)}})),console.log(c),n.setState((function(e){return{friends:c,pending:a,requests:t,declined:r,favourites:o,myUsers:s,fullList:l,loading:!1}})),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),n.setState({loading:!1});case 24:case"end":return e.stop()}}),e,null,[[1,21]])}))),n.loadingPage=function(){return r.a.createElement(ae.b,{className:"".concat(ce.a.spinner)},r.a.createElement(D.a,{size:"large"}))},n.createGroupChat=function(e){Object(X.a)(n.state.initGroupChat);n.setState((function(a){var t=Object(X.a)(a.initGroupChat).map((function(e){return Object(Y.a)({},e)})),n=Object(X.a)(e).map((function(e){return Object(Y.a)({},e)}));return{initGroupChat:t.concat(n)}}))},n.removeFriend=function(e){n.setState((function(a){var t=a.friends;return{friends:t=t.filter((function(a){return a!==e}))}}))},n.createChat=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=new N.a,r=t.get("userData"),o=r.username,c={sender:o,recipient:e,messages:[],initialMessage:[]};n.setState((function(t){if(!n.state.initChat.includes(e)){var r=Object(X.a)(t.initChat);return r.concat([c]),{users:r,initChat:t.initChat.concat(e),initMessage:a}}}))},n.state={friends:[],initChat:[],users:[],initMessage:"",initGroupChat:[],toggled:[],pending:[],declined:[],requests:[],favourites:[],myUsers:[],fullList:[],loading:null,groupIdArr:[]},n.createChat=n.createChat.bind(Object(v.a)(n)),n.addFriend=n.addFriend.bind(Object(v.a)(n)),n.toggleFavourite=n.toggleFavourite.bind(Object(v.a)(n)),n.friendStatus=n.friendStatus.bind(Object(v.a)(n)),n.createGroupChat=n.createGroupChat.bind(Object(v.a)(n)),n.removeFriend=n.removeFriend.bind(Object(v.a)(n)),n}return Object(i.a)(t,[{key:"createTab",value:function(e,a){var t=this,n=a;return r.a.createElement("div",{className:ce.a.tab__container},r.a.createElement("span",{className:ce.a.tab__icon},r.a.createElement(_e.a,{className:ce.a.tabicon,onClick:function(){var a;a=e,!0===n?t.setState((function(e){return{initGroupChat:Object(X.a)(e.initGroupChat).map((function(e){return Object(Y.a)({},e)})).filter((function(e){if(e.groupId!==a)return Object(Y.a)({},e)}))}})):t.setState((function(e){var t=e.initChat;return{initChat:t=t.filter((function(e){return e!=a}))}}))}})),r.a.createElement("span",{className:ce.a.tab__name},e))}},{key:"render",value:function(){var e=this,a=this.state,t=a.friends,n=a.requests,o=a.pending,c=a.declined,s=a.favourites,i=a.myUsers,_=a.fullList,l=(new N.a).get("userData"),u=l.username,m=te.a.Sider,p=te.a.Content,d=ge()("".concat("https://onlinechatapp.com")),g={toggleFavourite:this.toggleFavourite,loading:!0,favourites:s,requests:n,pending:o,friends:t,myUsers:i,declined:c,fullList:_,friendStatus:this.friendStatus,createChat:this.createChat,userData:l,toggled:this.state.toggled,socket:{socket:d},users:this.props.users,addFriend:this.addFriend},h=r.a.createElement("div",{className:ce.a.popover__container},r.a.createElement("p",null,"To Change your profile picture,",r.a.createElement("br",null)," click on the avatar above your username")),v=ne.a.TabPane;return r.a.createElement(te.a,{className:ce.a.container__layout},r.a.createElement(m,{width:450,className:ce.a.sidebar},r.a.createElement("div",{className:ce.a.sidebar__profilepicture__container},r.a.createElement(Oe,{className:ce.a.profilepicture,userData:l,actionUrl:"".concat("https://onlinechatapp.com","/chat/").concat(u),setSize:100}),r.a.createElement(re.a,{className:ce.a.popover,content:h,title:"Info"},r.a.createElement("a",{href:"#"},u))),1!=this.state.loading?r.a.createElement(Re,Object.assign({userData:l},g,{friends:g.friends,removeFriend:this.removeFriend,createGroupChat:this.createGroupChat})):r.a.createElement(this.loadingPage,null)),r.a.createElement(te.a,null,r.a.createElement(p,{className:ce.a.container__content},r.a.createElement(ne.a,{type:"card",className:ce.a.tab__card},this.state.initGroupChat.length>0&&this.state.initGroupChat.map((function(a,t){return r.a.createElement(v,{tab:e.createTab(a.groupId,!0),key:"".concat(t,"/groupchat")},r.a.createElement(he,{key:"".concat(t,"---thisgroupchatbox"),socket:d,userData:l,groupId:a.groupId,groupName:a.groupName,description:a.description}))})),this.state.initChat.length>0&&this.state.initChat.map((function(a,t){return r.a.createElement(v,{tab:e.createTab(a,!1),key:"".concat(t,"/chat")},r.a.createElement(Je,{socket:d,userData:l,toggled:e.state.toggled,friendName:a,key:t,initMessage:""!=e.state.initMessage&&e.state.initMessage}))}))),r.a.createElement("div",{className:ce.a.navbar__wrapper},r.a.createElement(f,{declined:c,initUser:!0,pending:o,requests:n,addFriend:this.addFriend,friends:t,handleLogout:this.props.handleLogout,users:this.props.users,userData:this.props.userData}),r.a.createElement("div",{className:ce.a.container__instructions},r.a.createElement("h1",{className:ce.a.instructions__header},"Instructions"),r.a.createElement("p",null,"All chats are created by clicking on the 'message' icon"),r.a.createElement("p",null,"  ",r.a.createElement("span",{className:ce.a.instructions__header__item},"To Add a Friend")," click on the 'friends' tab and click on the search bar to see a list of all users. To filter through that list, simply enter a character that the username contains. To add a user to the 'favourites' tab, click on the star under the 'friends' tab "),r.a.createElement("p",null,"  ",r.a.createElement("span",{className:ce.a.instructions__header__item},"To view group options")," click on the 'mygroups' tab which will display group-related options below. To join a group, click 'Join Group'; to create a group, click on the plus sign and fill in the form. To leave a group, click on the trashcan under the 'All Groups' tab. Groups are sorted only by GROUP ID"),r.a.createElement("p",null,"  ",r.a.createElement("span",{className:ce.a.instructions__header__item},"To set a lock on your chat")," click on the lock icon under the 'friends' tab, which will display an input box that requires a password and a password confirmation.",r.a.createElement("span",{className:ce.a.instructions__header__item},"Once a lock is set, you will need a password to enter or view your chats."),"Locked chats will be colored ",r.a.createElement("span",{className:ce.a.instructions__header__item}," red."),"To remove the password, enter the password that you created when you first set the lock."))))))}}]),t}(r.a.Component),Ye=function(e){Object(_.a)(t,e);var a=Object(l.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){n.getUsers(),n.handleAuthentication()},n.getUsers=function(){L.a.get("".concat("https://onlinechatapp.com","/api/allusers")).then((function(e){e.data.map((function(e,a){var t=e;return t.value=t.username,delete t.username,t}));var a=e.data;n.setState({users:a})})).catch((function(e){}))},n.handleLogin=function(e){console.log(e),(new N.a).set("userData",e),n.setState({userData:e,loggedIn:!0})},n.handleLogout=function(){var e=new N.a,a=(e.get("userData").username,ge()("".concat("https://onlinechatapp.com")));e.remove("userData"),a.disconnect(),n.setState((function(){return{userData:null,loggedIn:!1}}))},n.handleAuthentication=function(){var e=(new N.a).get("userData");if(void 0!==e){var a=e.token;e.username;L.a.get("".concat("https://onlinechatapp.com","/api/authenticate"),{headers:{Authorization:"Bearer"+a}}).then((function(a){n.setState((function(a){return{loggedIn:!0,userData:e}}))})).catch((function(e){n.setState((function(e){return{loggedIn:!1,userData:null}}))}))}else n.setState((function(e){return{loggedIn:!1,userData:null}}))},n.state={userData:null,loggedIn:!1,users:[],globalVar:"https://instachatter.com"},n.handleLogin=n.handleLogin.bind(Object(v.a)(n)),n.handleLogout=n.handleLogout.bind(Object(v.a)(n)),n}return Object(i.a)(t,[{key:"render",value:function(){var e=this,a=(ge()("".concat("https://onlinechatapp.com")),this.state.users),t=this.state.userData;this.state;return r.a.createElement("div",null,r.a.createElement(E.a,null,r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(V,Object.assign({},t,{handleLogin:e.handleLogin,render:function(t){return r.a.createElement(f,{initUser:!1,userData:e.state.userData,handleLogout:e.handleLogout,users:a,render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a.Item,{key:"1"},r.a.createElement(E.b,{to:"/"},"Home")),r.a.createElement(u.a.Item,{key:"2"},r.a.createElement(E.b,{to:"/chat"},"Chat")),r.a.createElement(u.a.Item,{key:"3"},"Search"))}})}}))}},1==this.state.loggedIn&&r.a.createElement(b.a,{to:"/chat/".concat(this.state.userData.username)})),r.a.createElement(b.b,{path:"/chat/:username/:friendslist?/:friendname?",render:function(n){return r.a.createElement(Ve,{props:n,userData:t,handleLogout:e.handleLogout,users:a})}},0==this.state.loggedIn&&r.a.createElement(b.a,{to:"/"})))))}}]),t}(r.a.Component);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,a,t){e.exports={container:"createaccount_container__30x_o",container__username:"createaccount_container__username__2NFWp",container__password:"createaccount_container__password__24ONA",container__header:"createaccount_container__header__3KhyO",input__username:"createaccount_input__username__3DcGg",input__password:"createaccount_input__password__16a1_",error__input:"createaccount_error__input__3FiCc"}},9:function(e,a,t){e.exports={container__allgroups:"friendslist_container__allgroups__3aqTR",container__myfriends:"friendslist_container__myfriends__2ygBD",container__requests:"friendslist_container__requests__9PzAr",container__requests__creategroup:"friendslist_container__requests__creategroup__2Ob0k",toggled:"friendslist_toggled__R5n9z",tab:"friendslist_tab__2iBFO",tab__title:"friendslist_tab__title__2oWjH",icon__container:"friendslist_icon__container__3CsTS",icon__container__star:"friendslist_icon__container__star__18-xF",icon__button__container:"friendslist_icon__button__container__Rd00B",myicon:"friendslist_myicon__3WrSl",group__container__form:"friendslist_group__container__form__3TbV_",group__container__create:"friendslist_group__container__create__mWN8M",group__button:"friendslist_group__button__3T-It",group__icon:"friendslist_group__icon__1vFt5",form__input:"friendslist_form__input__ZbRpc",textarea:"friendslist_textarea__1hdVU",container__dropdown:"friendslist_container__dropdown__16e9p",container__dropdown__button:"friendslist_container__dropdown__button__16zRx",container__dropdown__error:"friendslist_container__dropdown__error__3g6L7",container__autocomplete:"friendslist_container__autocomplete__2wbYd",container__options:"friendslist_container__options__34Hzm",container__groupinfo:"friendslist_container__groupinfo__2z4Wv",container__header__name:"friendslist_container__header__name__6Kgqq",container__header__id:"friendslist_container__header__id__3kAEg",adderror:"friendslist_adderror__3k0Xp",container__autocomplete__button:"friendslist_container__autocomplete__button__m4VFh",container__username:"friendslist_container__username__2Pd99",container__icon:"friendslist_container__icon__1DUy7",container__header:"friendslist_container__header__3Py1m",container__select:"friendslist_container__select__3GEET",container__users:"friendslist_container__users__2Jktc",create__error:"friendslist_create__error__pBRXm"}},95:function(e,a,t){e.exports={container:"Loginform_container__3IoQF",container__username:"Loginform_container__username__1URPL",container__password:"Loginform_container__password__2v8uD",container__button:"Loginform_container__button__360Jc",container__header:"Loginform_container__header__1ozdB",input__username:"Loginform_input__username__1K6b_",input__password:"Loginform_input__password__3xAXT"}}},[[256,1,2]]]);
//# sourceMappingURL=main.e4404b58.chunk.js.map